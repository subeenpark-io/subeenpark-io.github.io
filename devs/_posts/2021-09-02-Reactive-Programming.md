---
layout: post
title: "ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°(Reactive Programming)ê³¼ Rx"
description: >
  ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°(Reactive Programming)ê³¼ Rxì— ëŒ€í•œ ê³ ì°°: Rx ê³µë¶€í•˜ë ¤ê³  ì‹œì‘í–ˆëŠ”ë° ê¶ê¸ˆí•œê±° ë‹¤ ì°¾ì•„ë³´ë‹¤ ë³´ë‹ˆ Reactive Programmingì— ëŒ€í•œ ê³µë¶€ë¡œ ëë‚˜ë²„ë¦° ê¸°ìˆ  ìŠ¤í„°ë”” ë°œí‘œ ìë£Œ
sitemap: true
hide_last_modified: true
tags: [design-pattern]
image:
  path:    /assets/img/blog/2021-09-02-Reactive-Programming/zclickstream.png
---



UIKitì™€ SwiftUIë¥¼ ì™€ë¦¬ê°€ë¦¬ í•˜ë©° ê°œë°œí•˜ë‹¤ë³´ë‹ˆ UIKitë¥¼ ì“¸ ë•ŒëŠ” SwiftUIì—ì„œ ë˜ëŠ” ê²ƒë“¤ì´ ì•„ì‰½ê³ , SwiftUIë¥¼ ì“¸ ë•ŒëŠ” UIKitì—ì„œ ë˜ëŠ” ê²ƒë“¤ì´ ì•„ì‰½ë‹¤. ê·¸ ì¤‘ì—ì„œë„ UIKitì—ì„œ ê°€ì¥ ë¶ˆí¸í•œ ê²ƒì€ data(model)ì— ë³€ë™ ì‚¬í•­ì´ ìƒê¸¸ ë•Œë§ˆë‹¤ ìˆ˜ë™ìœ¼ë¡œ UIë¥¼ ì—…ë°ì´íŠ¸ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ê²ƒ... ì•„ì‰¬ìš´ ëŒ€ë¡œ Rxë¡œ ê·¸ í—ˆì „í•¨ì„ ë‹¬ë˜ë³´ìëŠ” ë§ˆìŒìœ¼ë¡œ Rxì— ëŒ€í•œ ê¸°ìˆ  ìŠ¤í„°ë”” ë°œí‘œë¥¼ ì¤€ë¹„í•˜ê¸° ì‹œì‘í–ˆëŠ”ë° ë§‰ìƒ í•˜ë‹¤ ë³´ë‹ˆ ê¶ê¸ˆí•œê²Œ ë„ˆë¬´ ë§ì•„ì ¸ì„œ ê²°êµ­ Reactive Programming ê³µë¶€ë¡œ ëë‚˜ë²„ë ¸ë‹¤. ì–¸ì  ê°„ í•˜ê² ì§€... Rx ê³µë¶€...
{:.message}

*ì£¼ì˜ ì‚¬í•­: ê¸°ìˆ  ìŠ¤í„°ë””ë¥¼ ìœ„í•œ ë°œí‘œ ìë£Œì´ë‹¤ ë³´ë‹ˆ í‰ì†Œ ê¸€ì— ë¹„í•´ ì„¤ëª…ì´ ë¶€ì¡±í•œ ëŠë‚Œì´ ë‹¤ì†Œ ìˆì„ ìˆ˜ ìˆì§€ë§Œ....... ë³´ì¶©ì€ ë” ì˜ ì•Œê²Œëœ ì´í›„ì—!ğŸ˜‰* 


* this is unordered seed list will be replaced by the toc
{:toc}

# ë¹„ë™ê¸° ì‘ì—…

---

## ë¹„ë™ê¸°ì ì¸ ì‘ì—…ì´ í•„ìš”í•œ ì´ìœ ëŠ”?

ë¹„ë™ê¸° ì‘ì—…ì´ í•„ìš”í•œ ì´ìœ ëŠ” ê°€ì¥ ë‹¨ìˆœí•˜ê²Œ ë§í•´ì„œ ë” ë‚˜ì€ user experienceë¥¼ ìœ„í•´ì„œ!

ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ì¾Œì í•˜ê²Œ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ë¬´ê²ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ë“¤ì´ë‚˜ ë„¤íŠ¸ì›Œí‚¹ ì‘ì—…ë“¤ì„ background threadì—ì„œ ì²˜ë¦¬í•˜ê³  main threadë¡œ ë“¤ê³ ì˜¤ëŠ” ì¼ì´ í•„ìˆ˜ì ì´ë‹¤. 

## The Evaluation Matrix

ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ê³ ë ¤í•´ì•¼ í•  4ê°€ì§€ ì¸¡ë©´ë“¤

![The Evaluation Matrix]( /assets/img/blog/2021-09-02-Reactive-Programming/1_EvaluationMatrix.png)

**Explicit execution**

- ìƒˆë¡œìš´ ìŠ¤ë ˆë“œì—ì„œ ì‘ì—…ì„ ì‹œì‘í•œ í›„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆì–´ì•¼í•¨

**Easy thread management**

- í•œ ìŠ¤ë ˆë“œ(ì£¼ë¡œ background thread)ì—ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œ(ì£¼ë¡œ main thread)ë¡œ ì‘ì—…ì„ ë„˜ê¸°ê±°ë‚˜ ìŠ¤ë ˆë“œë¥¼ êµì²´(switch)í•˜ëŠ” ì¼ì´ ì‰¬ì›Œì•¼í•¨
    - ì˜ˆ. backgroundì—ì„œ ê·¸ë ¤ì§„ UIë¡œ main threadì˜ UIë¥¼ ëŒ€ì²´

**Easily Composable**

- í•œ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ì‘ì—…ìœ¼ë¡œë¶€í„° ë…ë¦½ì ì´ë¼ë©´ ì¢‹ê² ì§€ë§Œ ì‹¤ì œë¡œëŠ” ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ê°€ ë§ìŒ. ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì— ìŠ¤ë ˆë“œë“¤ì€ ì„œë¡œ interdependentí•˜ê¸° ë•Œë¬¸ì— asynchonous libraryì˜ ê²½ìš° easily composable í•˜ê³  ì—ëŸ¬ê°€ ë‚  ì—¬ì§€ê°€ ì ì–´ì•¼ í•¨
    - ì˜ˆ. UI ì—…ë°ì´íŠ¸, DB transaction

**Minimum side effects**

- í•œ ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ë¯¸ì¹˜ëŠ” side effectê°€ ìµœì†Œí™”ë˜ì–´ì•¼ í•¨.

# ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°

## ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì •ì˜ë¥¼ ì°¾ì•„ì„œ

---

~~ì‚¬ì‹¤ ì•„ì§ë„ ëª¨ë¥´ê² ìŒ... ë„ëŒ€ì²´ ë­˜ê¹Œ? ì“°ë¼ë©´ ì“°ê² ëŠ”ë° ì •ì˜ëŠ” ëª»í•˜ê² ì–´ìš” ì—‰ì—‰~~

### ìœ„í‚¤í”¼ë””ì•„

> Reactive programming is a **programming paradigm** oriented around **data flows and the propagation of change**. This means that it should be possible to express static or dynamic data flows with ease in the programming languages used, and that the underlying execution model will automatically propagate changes through the data flow.

![Definition of Reactive Programming from Reactive Manifesto]( /assets/img/blog/2021-09-02-Reactive-Programming/2_Wikipedia.png)

![Definition of Reactive Programming from Wikipedia](/assets/img/blog/2021-09-02-Reactive-Programming/2_Screen Shot 2021-08-29 at 2.00.25 AM.png)

â†’ MSì—ì„œ Rxë¥¼ ë§Œë“¤ë˜ ì¡°ì§ì— ìˆë˜ ì—ë¦­ ë©”ì´í—ˆê°€ 2014 ë¦¬ì•¡íŠ¸ ì»¨í¼ëŸ°ìŠ¤ì—ì„œ ë°œí‘œí•œ ìë£Œ. ìœ„í‚¤í”¼ë””ì•„ ë§ëŒ€ë¡œë¼ë©´ ì•„ë˜ ìˆëŠ” ì½”ë“œë„ ë°˜ì‘í˜• ì•„ë‹ˆëƒê³  í•˜ëŠ”ë°... ë˜ í‹€ë¦° ë§ì€ ì•„ë‹˜. ì´ì™¸ì— ë‹¤ë¥¸ ì‚¬ëŒë“¤ë„ ê¸°ì¡´ì— MV* í˜•íƒœì˜ ì•„í‚¤í…ì³ì—ì„œ ì‚¬ìš©í•´ì˜¤ë˜ ê²ƒê³¼ ë­ê°€ ë‹¤ë¥´ëƒëŠ” ì˜ê²¬ì´ ëŒ€ë‹¤ìˆ˜. 

### Reactive Manifesto



![Definition of Reactive Programming from Reactive Manifesto]( /assets/img/blog/2021-09-02-Reactive-Programming/3_ReactiveManifesto.png)

> **Responsive**Â (ì‘ë‹µì„±)ê°€ëŠ¥í•œ í•œ ì¦‰ê°ì ìœ¼ë¡œ ì‘ë‹µí•˜ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤. ì‚¬ìš©ìì˜ ì…ì¥ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í•­ëª©ì´ ë˜ê² ì§€ìš”. ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ë‹¹ì—°íˆ ì‚¬ìš©ìê°€ í•„ìš”ë¡œ í•  ë•Œ ë¹ ë¥´ê²Œ ì‘ë‹µí•´ì•¼ í•©ë‹ˆë‹¤. ì‘ë‹µì„±ì€ Reactive Manifestoì˜ 4ê°€ì§€ ì†ì„± ì¤‘ ê°€ì¥ ì¤‘ìš”í•˜ê³ , ë‚˜ë¨¸ì§€ ì•„ë˜ 3ê°€ì§€ ìš”ì†ŒëŠ” ì‘ë‹µì„±ì„ ìœ„í•˜ì—¬ ì¡´ì¬í•˜ëŠ” í•˜ìœ„ ìš”ì†Œì…ë‹ˆë‹¤.

> **Resilient**Â (íƒ„ë ¥ì„±): ì‹œìŠ¤í…œì´ ì¥ì• ì— ì§ë©´í•˜ë”ë¼ë„ ì‘ë‹µì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. Fault Tolerence(ì¥ì•  í—ˆìš©)ì™€ ë°€ì ‘í•œ ê°œë…ì´ê¸°ë„ í•©ë‹ˆë‹¤. ë¶€ë¶„ì ì¸ ì¥ì• ë‚˜ ê³ ì¥ì´ ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ë§ê°€ëœ¨ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤. ì‹œìŠ¤í…œ ê³ ì¥ì„ ì˜ˆì™¸ê°€ ì•„ë‹Œ ì‹œìŠ¤í…œ ê¸°ëŠ¥ì˜ ì¼ë¶€ë¡œ ë°›ì•„ë“¤ì…ë‹ˆë‹¤.

> **Elastic**Â (ìœ ì—°ì„±)ì‹œìŠ¤í…œì˜ ì‘ì—…ëŸ‰ì´ ë³€í•˜ë”ë¼ë„ ì‘ë‹µì„±ì„ ìœ ì§€í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œì€ íŠ¸ë˜í”½ì— ë”°ë¼ Scale Upê³¼ Scala Downì´ ì‰¬ì›Œì•¼ í•©ë‹ˆë‹¤. ë¦¬ì•¡í‹°ë¸Œ ì„ ì–¸ì˜ ì´ˆê¸° ë²„ì „ì—ëŠ” Scalable ì´ë¼ëŠ” ë§ì„ ì¼ì§€ë§Œ, ì´ê²ƒì€ Scale Upì— í•´ë‹¹í•˜ëŠ” ìš©ì–´ë¼, Scale Upê³¼ Downì„ ë™ì‹œì— í‘œí˜„í•˜ëŠ” Elastic ì´ë¼ëŠ” ìš©ì–´ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.

> **Message Driven**Â (ë©”ì‹œì§€ êµ¬ë™): ì†Œí”„íŠ¸ì›¨ì–´ ë‚´ë¶€ì—ì„œ ì˜ì‚¬ì†Œí†µì„ í•˜ëŠ” ë°©ì‹ì´ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬ì„±í•˜ëŠ” ê° ë¶€ë¶„ë“¤ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤. ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ì„ ë•ŒëŠ” ë³´ë‚´ê³  ìŠëŠ”(fire-and-forget) ë°©ì‹ì„ ì´ìš©í•©ë‹ˆë‹¤.

â†’ ([ì›ë¬¸](https://www.reactivemanifesto.org/))([ìœ„ ê¸€ ê¸ì–´ì˜¨ ë¯¸ë””ì—„](https://medium.com/@ahaljh/the-reactive-manifesto-16ed38106103)) ë°˜ì‘í˜•ì˜ ì •ì˜ì— ê½¤ ìì£¼ ë“±ì¥í•˜ëŠ” ê¸€ì¸ ê²ƒ ê°™ì€ë°... ~~ë‹ˆ ë§¤ë‹ˆì € ê°€ì„œ ë³´ì—¬ì¤˜ë¼~~ ë¼ë˜ê°€ ë“£ê¸° ì¢‹ì€ ë§ë§Œ ì¨ë†¨ë‹¤ ë¼ëŠ” í‰ì´ ë¸”ë¡œê·¸/ì»¨í¼ëŸ°ìŠ¤ì— ìì£¼ ë“±ì¥í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ëª¨ë‘ê°€ ë™ì˜í•˜ëŠ” ì •ì˜ì™€ëŠ” ê±°ë¦¬ê°€ ë¨¼ ê²ƒ ê°™ìŒ. ì „ë¶€ í‹€ë ¸ë‹¤ê³  ë§í•˜ê¸°ëŠ” ì–´ë µê² ì§€ë§Œ ë¯¸ì‚¬ì—¬êµ¬ê°€ ë§ê³  ë¹›ì¢‹ì€ ê°œì‚´êµ¬ ê°™ì€ ì •ì˜... ê·¸ë˜ë„ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì •ì˜ë¥¼ ëª©ì ìœ¼ë¡œ ë‘ì§€ ì•Šê³  í˜„ëŒ€ í”„ë¡œê·¸ë¨ì´ ê°–ì¶°ì•¼ í•  ì •ì˜ ì •ë„ë¡œ ìƒê°í•˜ë©´ ì½ì–´ë³¼ ë§Œ í•˜ë‹¤. 

### RedHat Developer ++

> Reactive, what an overloaded word. Many things turn out to become magically Reactive these days. In this post, we are going to talk about **Reactive Programming**, i.e. a **development model structured around asynchronous data streams**.

![4 Fundamental Side Effects]( /assets/img/blog/2021-09-02-Reactive-Programming/4_DefinitionMatrix.png)


- ê°œì¸ì ìœ¼ë¡œ ê°€ì¥ ê³µê°ì´ ê°”ë˜ ì •ì˜. ê²°êµ­ ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì–´ë–»ê²Œ ëŒ€í•  ê²ƒì¸ì§€ì— ëŒ€í•œ ë°©ë²•ë¡  ì¤‘ í•˜ë‚˜ê°€ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì¸ ê²ƒ ê°™ìŒ.
- ë”í•´ì„œ ì´ì „ì—ë„ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ê´€ì°°í•˜ê³  ì‚¬ì´íŠ¸ ì´í™íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì´ ì—†ì—ˆë˜ ê²ƒì€ ì•„ë‹ˆì§€ë§Œ ì²˜ë¦¬ ë°©ì‹ì— ëŒ€í•œ ì•„ì´ë””ì–´ ì¤‘ ì†ì— ê¼½ê²Œ ê°•ë ¥í•˜ë‹¤ëŠ” ê²ƒ!!

### ì£¼ì„¬ì£¼ì„¬ í•©ì³ë³´ìë©´

![Reactive Programming]( /assets/img/blog/2021-09-02-Reactive-Programming/5_Summary.png)

- ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œ

    > Reactive systemsâ€¦ are repeatedly prompted by the outside world and their role is to continusouly respond external inputs

    > ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œì´ë€ ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ê³„ì†í•´ì„œ ì‘ë‹µí•˜ëŠ” ì‹œìŠ¤í…œì´ë‹¤.

    - David Harel, Amir Pnueil, <On the development of reactive systems>

- ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°
    - ë¦¬ì•¡í‹°ë¸Œ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ëŠ” ë° ì í•©í•œ í”„ë¡œê·¸ë˜ë° ë°©ë²•ë¡ 
    - ì™¸ë¶€ì— ê³„ì†í•´ì„œ ì‘ë‹µí•œë‹¤ == ë°˜ì‘í•œë‹¤ â†’ ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°ì˜ ëª©ì ì€ ì™¸ë¶€ì—ì„œ ë“¤ì–´ì˜¨ ìê·¹ì— ë°˜ì‘í•˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” ë° ìˆìŒ.
    - ë°˜ì‘ì˜ ê²½ìš° (1) ìê·¹ì´ ë°–ì—ì„œ ì•ˆìœ¼ë¡œ í˜ëŸ¬ì•¼ í•˜ê³ , (2) ìê·¹ì´ ìˆì–´ì•¼ë§Œ ë°˜ì‘í•˜ëŠ” ìˆ˜ë™ì„±ì„ ê°€ì ¸ì•¼ í•¨
    - ê²°êµ­ ê¸°ì¡´ì— ë°ì´í„° ìƒì‚°ìì™€ ë°ì´í„° ì†Œë¹„ìê°€ ìƒí˜¸ì‘ìš© í•˜ëŠ” ë°©ì‹ì„ ê±°ê¾¸ë¡œ ë’¤ì§‘ì–´ì„œ ë°ì´í„° ì†Œë¹„ìì˜ ìˆ˜ë™ì  ë°˜ì‘ì„±ì„ íšë“í•˜ëŠ” ì¼!
    - ì´í•´ê°€ ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆê² ì§€ë§Œ ë’¤ì— Rx íŒŒíŠ¸ì—ì„œ ì¢€ ë” ìì„¸íˆ..

## ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì˜ íŠ¹ì§•

---

![Click Stream]( /assets/img/blog/2021-09-02-Reactive-Programming/6_Clickstream.png)

- ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ í”íˆ **ë¹„ë™ê¸°ì ì¸ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ê´€í•œ ê²ƒ**ì´ë¼ê³  ë§ì´ ë¶€ë¥´ëŠ”ë°, ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì´ ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ìƒê°í•˜ëŠ” ê²ƒê³¼ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤.

    â†’ **events, messages, calls, failuresë¥¼ ì „ë¶€ í¬í•¨**

    â†’ í´ë¦­ ì´ë²¤íŠ¸, HTTP ìš”ì²­, ingested message, ì•Œë¦¼, ë³€ìˆ˜ì˜ ë³€í™”, ìºì‹œ ì´ë²¤íŠ¸, ì„¼ì„œì˜ ì¸¡ì • ê°™ì€ ê²ƒë“¤ì´ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ì£¼ë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤. 

    â†’ ì‚¬ì‹¤ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ë“¤ì–´ê°€ëŠ” ì›ì†Œë“¤ì´ ì´ëŸ° ê²ƒë“¤ì´ë‹¤ë³´ë‹ˆ í•„ì—°ì ìœ¼ë¡œ ë¹„ë™ê¸°ì ì¼ ìˆ˜ ë°–ì— ì—†ìŒ. 

- í•¨ìˆ˜í˜•ê³¼ ê¶í•©ì´ ì•„~ì£¼ ì¢‹ìŒ
    - ë°˜ì‘í˜•ì€ ê²°êµ­ **streamì„ ê°€ì§€ê³  ë¬´ì—‡ì„ í•  ê²ƒì¸ê°€**ì— ëŒ€í•œ ë¬¸ì œì´ë©´ì„œ ë™ì‹œì— **ë¹„ë™ê¸°ì ì¸ ë™ì‘ì„ ì–´ë–»ê²Œ ë‹¤ë£° ê²ƒì¸ê°€**ì— ëŒ€í•œ ë¬¸ì œ
        - Streamì„ ê°€ì§€ê³  ì–´ë–»ê²Œ í•  ê²ƒì¸ê°€: ìŠ¤íŠ¸ë¦¼ì´ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ì˜ inputì´ ë  ìˆ˜ë„ ìˆê³ , ë‘ ìŠ¤íŠ¸ë¦¼ì„ merge í•˜ê±°ë‚˜ ê¸°ì¡´ ìŠ¤íŠ¸ë¦¼ì„ filter í•˜ê±°ë‚˜ map í•˜ê±°ë‚˜ ì´ëŸ¬ì¿µ ì €ëŸ¬ì¿µ í•´ì„œ ì–´ì¨Œë“  ë˜ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“ ë‹¤.

            â†’ í•¨ìˆ˜í˜•ì—ì„œ ë§ì´ ë³´ë˜ í˜•íƒœ!

        - ë¹„ë™ê¸°ì ì¸ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ê±´ ê²°êµ­ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ê±´ë“œë¦¬ê² ë‹¤ëŠ” ê²ƒ... ê¸°ì™•ì´ë©´ í•¨ìˆ˜í˜•ì„ ì“°ëŠ”ê²Œ ì—ëŸ¬ê°€ ì¡°ê¸ˆì´ë¼ë„ ëœ ì¼ì–´ë‚˜ì§€ ì•Šì„ê¹Œ
        - 

## ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ ì˜ˆì‹œë¡œ ì´í•´í•´ë³´ì

---

### ì˜¤ë¦¬ì§€ë„ í´ë¦­ ìŠ¤íŠ¸ë¦¼

![Marble Diagram of an Original Click Stream]( /assets/img/blog/2021-09-02-Reactive-Programming/7_MarbleDiagram.png)



```python
--a---b-c---d---X---|->

# a, b, c, d : ë°œìƒí•œ ê°’
# X : ì—ëŸ¬
# | : ì™„ë£Œ ì‹ í˜¸
# ---> : íƒ€ì„ë¼ì¸
```

- Stream : ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬í•œ ì´ë²¤íŠ¸ì˜ ì‹œí€€ìŠ¤
- Streamì—ì„œ ë°œìƒí•˜ëŠ” ì„¸ ê°€ì§€ ê°’: `ê°’/íƒ€ì…`, `ì—ëŸ¬`, `ì™„ë£Œ ì‹ í˜¸`

### ì¹´ìš´í„° ìŠ¤íŠ¸ë¦¼

```python
clickStream: ---c----c--c----c------c--> # origianl
               vvvvv map(c becomes 1) vvvv
               ---1----1--1----1------1--> # new stream 1
               vvvvvvvvv scan(+) vvvvvvvvv
counterStream: ---1----2--3----4------5--> # new stream 2
```

- ì˜¤ë¦¬ì§€ë„ í´ë¦­ ìŠ¤íŠ¸ë¦¼ì— ë°˜ì‘í˜• ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” `map`, `filter`, `scan` ë“±ì„ ì ìš© ì‹œ  ìƒˆë¡œìš´ ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜í•œë‹¤.
- ì˜¤ë¦¬ì§€ë„ í´ë¦­ ìŠ¤íŠ¸ë¦¼ì„ ìˆ˜ì •í•˜ì§€ëŠ” ì•ŠëŠ” ì„±ì§ˆì´ **ë¶ˆë³€ì„±(immutability)**

### ë”ë¸” í´ë¦­ ìŠ¤íŠ¸ë¦¼

Stateful í•œ ë°©ì‹ìœ¼ë¡œ ì½”ë”©í•œë‹¤ê³  ìƒê°í•˜ë©´ ì–´ì§ˆì–´ì§ˆ...

![Marble Diagram of an Double Click Stream]( /assets/img/blog/2021-09-02-Reactive-Programming/8_DoubleClickStream.png)



- íšŒìƒ‰: í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í˜•í•˜ëŠ” í•¨ìˆ˜
- throttle: 250 ms ë™ì•ˆ ì¶”ê°€ì ì¸ eventê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©´ ì§€ê¸ˆê¹Œì§€ì˜ í´ë¦­ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
- map: ë¦¬ìŠ¤íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ë¦¬ìŠ¤íŠ¸ ê°œìˆ˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜
- filter: ë¦¬ìŠ¤íŠ¸ ê°œìˆ˜ ìŠ¤íŠ¸ë¦¼ ì¤‘ì—ì„œ 2ë³´ë‹¤ í° ì´ë²¤íŠ¸ë§Œ í•„í„°ë§
- ì™„ì„±! subscribe í•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ë‹¤ ì“°ë©´ ëœë‹¤

# Rx(Reactive eXtension)

---

*[ìê¸° ì†Œê°œ](http://reactivex.io/)ì— ë”°ë¥´ë©´ Observer pattern, iterator pattern, functional programmingì˜ ì¥ì ë§Œ ì·¨í–ˆë‹¤ê³  í•œë‹¤*

- Observer pattern: ì˜µì €ë²„íŒ¨í„´ì´ë€ ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ëŠ” ê´€ì°°ìë“¤, ì¦‰ ì˜µì €ë²„ë“¤ì˜ ëª©ë¡ì„ ê°ì²´ì— ë“±ë¡í•˜ì—¬ ìƒíƒœ ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ ë©”ì„œë“œ ë“±ì„ í†µí•´ ê°ì²´ê°€ ì§ì ‘ ëª©ë¡ì˜ ê° ì˜µì €ë²„ì—ê²Œ í†µì§€í•˜ë„ë¡ í•˜ëŠ” ë””ìì¸ íŒ¨í„´
- Iterator pattern: ì ‘ê·¼ê¸°ëŠ¥ê³¼ ìë£Œêµ¬ì¡°ë¥¼ ë¶„ë¦¬ì‹œì¼œì„œ ê°ì²´í™” í•œ ê²ƒ. ì»¬ë ‰ì…˜ êµ¬í˜„ ë°©ë²•ì„ ë…¸ì¶œì‹œí‚¤ì§€ ì•Šìœ¼ë©´ì„œë„ ê·¸ ì§‘í•©ì²´ì•ˆì— ë“¤ì–´ìˆëŠ” ëª¨ë“  í•­ëª©ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ ì£¼ëŠ” ë°©ë²•ì„ ì œê³µí•´ ì£¼ëŠ” íŒ¨í„´
- Functional Programming: ìˆœìˆ˜ í•¨ìˆ˜(pure functions) ì‘ì„±ê³¼ ê³µìœ  ìƒíƒœ(shared state), ë³€ê²½ ê°€ëŠ¥í•œ ë°ì´í„°(mutable date)ì™€ side-effects í”¼í•˜ê¸°ë¡œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ êµ¬ì¶•í•˜ëŠ” í”„ë¡œì„¸ìŠ¤.

## Rxë€?

---

- Reactive Programming Principleì˜ êµ¬í˜„ì²´
- ë¹„ë™ê¸°ì ì´ê³  ì´ë²¤íŠ¸ ê¸°ë°˜ìœ¼ë¡œ ì‘ë™í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ëŠ” ê²ƒì— ìˆì–´ì„œ `Observable sequence` ë¥¼ ì‚¬ìš©

## Rxì˜ ë“±ì¥ë°°ê²½

---

- Promiseì˜ í•œê³„
    - ë§ˆìš°ìŠ¤ ì›€ì§ì„, íŒŒì¼ ìŠ¤íŠ¸ë¦¼ ë°”ì´íŠ¸ ì‹œí€€ìŠ¤ ì²˜ëŸ¼ ë‘˜ ì´ìƒì˜ ê°’ì„ ìƒì„±í•˜ëŠ” ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ì—†ì—ˆìŒ
    - ì—ëŸ¬ ë°œìƒ ì‹œ ì¬ì‹¤í–‰ í•˜ëŠ” ê¸°ëŠ¥ë„ ì—†ê³ , ë¶ˆë³€ì´ë¼ì„œ ì·¨ì†Œí•  ìˆ˜ ì—†ì—ˆìŒ.
        - ì˜ˆ. XmlHttpRequest ê°ì²´ ê¸°ë°˜ì˜ HTTP í˜¸ì¶œì€ ì¤‘ë‹¨í•  ìˆ˜ ìˆì§€ë§Œ í”„ë¼ë¯¸ìŠ¤ ì¸í„°í˜ì´ìŠ¤ ë“±ì„ í†µí•´ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆìŒ.
    - ì½œë°±, í”„ë¼ë¯¸ìŠ¤, ì´ë²¤íŠ¸ ì´ë¯¸í„°ë¥¼ ì˜ ì‚¬ìš©í•˜ë©´ êµ¬í˜„ì´ì•¼ í•  ìˆ˜ ìˆê² ì§€ë§Œ ì½”ë“œê°€ ë„ˆë¬´ ë³µì¡
- ì´ì™¸ì— ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì´ ë‹¹ì‹œ ê³µí†µì ìœ¼ë¡œ ê°€ì§€ë˜ ë¬¸ì œë“¤
    - ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì œì–´ë¬¸ì€ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠìŒ. ë°˜ë³µ ì‚¬ì´ì˜ ì§€ì—° ì‹œê°„ì„ ì¸ì‹í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸
    - ì½œë°± ë‚´ì—ì„œ try/catch ë¸”ë¡ì´ ì¤‘ì²©ë˜ë©´ ì—ëŸ¬ ì²˜ë¦¬ ì „ëµì´ ë¹ ë¥¸ ì†ë„ë¡œ ë³µì¡í•´ì§€ê³ , ì¬ì‹œë„ ë¡œì§ êµ¬í˜„ë„ ì–´ë ¤ì›€ + ì½œë°±í—¬
    - ì´ë²¤íŠ¸ ì·¨ì†Œê°€ ì–´ë ¤ì›€
    - ìŠ¬ìŠ¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œì—ì„œ ë©”ëª¨ë¦¬ ë¬¸ì œê°€ ë°œìƒí•˜ê¸° ì‹œì‘í–ˆê³ , ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ì˜ ì›ì¸ì¸ ê²½ìš°ê°€ ë§ì•˜ìŒ.
    - Throttlingê³¼ Debouncing ê°™ì€ ê²ƒë“¤ì˜ êµ¬í˜„ ë°©ë²•ì´ ë”±íˆ ì—†ì—ˆìŒ.
        - ë§‰ê°„ì„ ì´ìš©í•œ ì–¼íƒ±ì´ ì—†ëŠ” [ì›¹ì‚¬ì´íŠ¸](https://cse.snu.ac.kr/search/node/%EC%9E%A5%ED%95%99%20OR%20%EA%B5%90%ED%99%98%ED%95%99%EC%83%9D)..ë¥¼ ë³´ì—¬ë“œë¦¬ë ¤ê³  í–ˆëŠ”ë° ê·¸ìƒˆ ë²„ê·¸ë¥¼ ê³ ì³¤ë„¤ìš©. ì•„ìˆ©. ì•½ê°„ ì´ëŸ°ê±°ì˜€ì–´ìš”

        ![Pull and Push]( /assets/img/blog/2021-09-02-Reactive-Programming/9_PullandPush.png)
        
        

    - ì„œë²„ ì‚¬ì´ë“œì—ì„  concurrencyë¥¼ ë³´ì¥í•  ë°©ë²•ì´ í•„ìš”í–ˆìŒ. RxJavaë„ ê·¸ë˜ì„œ ë„·í”Œë¦­ìŠ¤ì—ì„œ ë§Œë“¤ì—ˆë‹¤ê³  í•œë‹¤

### Reactive Frameworkì˜ ì—­ì‚¬(?)

- 2009.11 â€” Rxì˜ ì²« ë“±ì¥
    - NETì„ ìœ„í•œ Reactive Extensionì˜ ì²« ë¦´ë¦¬ì¦ˆ, ì´ ë‹¹ì‹œê¹Œì§€ë§Œ í•´ë„ ì˜¤í”ˆ ì†ŒìŠ¤ê°€ ì•„ë‹ˆì—ˆìŒ.
- 2010.03 â€” RxJsì˜ ì²« ë¦´ë¦¬ì¦ˆ
    - ì›¹ UIê°€ í™”ë ¤í•´ì§€ê³  AJAX ê¸°ìˆ ì˜ ë¹„ì¤‘ì´ ë†’ì•„ì§€ë˜ ì‹œì .
    - ì‚¬ì‹¤ì€ Promise/A+(2012.12 ë“±ì¥)ë³´ë‹¤ë” ë¨¼ì € ë‚˜ì™”ìŒ
    - ê·¼ë° ê·¸ ë‹¹ì‹œì—ëŠ” í° ì¸ê¸°ëŠ” ì—†ì—ˆë‹¤ê³  í•œë‹¤
    - Node.jsê°€ ì¸ê¸°ê°€ ë§ì•„ì§€ë©´ì„œ ì½œë°± ì§€ì˜¥ì´ í™”ë‘ì— ë– ì˜¬ë¼ì„œ ë©ë‹¬ì•„ ì¸ê¸°ê°€ ë§ì•„ì¡Œë‹¤ê³  í•œë‹¤.
- 2012.11 â€” Rx .Net, RxJS, Rx++ë¥¼ ì˜¤í”ˆ ì†ŒìŠ¤ë¡œ ê³µê°œ

## Rxì˜ ì„¸ ìš”ì†Œ: Observable + Observer + Schedular

---

- **`Observable`**
    - ê°€ì¥ ë‹¨ìˆœí•˜ê²Œ ë§í•´ì„œ í•œ ìŠ¤ë ˆë“œì—ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¡œ ë„˜ê¸¸ ìˆ˜ ìˆëŠ” ë°ì´í„°ë“¤ì„ ëª¨ì•„ë†“ì€ **ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì˜ ìƒì‚°ì**
    - Observableì˜ ì¢…ë¥˜ì— ë”°ë¼ì„œ dataë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ/ì¼ì‹œì ìœ¼ë¡œ ë°©ì¶œ
    - íŠ¹ì • ì´ë²¤íŠ¸ë‚˜ ì»¨ë””ì…˜ì— ë”°ë¼ì„œ ì•Œë§ì€ ë°ì´í„°ë¥¼ ë°©ì¶œí•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ê²Œ ë°”ë¡œ **`operators`**
- **`Observer`**
    - Observableì´ ë§Œë“¤ì–´ë‚¸ **ë°ì´í„°ì˜ ì†Œë¹„ì**
    - (ì–¸ì–´ë§ˆë‹¤ ë‹¤ë¥¼ìˆ˜ë„!)
        - Observerë“¤ì€ observableì„ `subscribeOn()` ë©”ì†Œë“œë¥¼ í†µí•´ êµ¬ë…í•´ observableì´ ë°©ì¶œí•˜ëŠ” ë°ì´í„°ë¥¼ ë°›ì•„ë´„.
        - Observableì´ ë°ì´í„°ë¥¼ ë°©ì¶œí•˜ë©´ ë“±ë¡ëœ observerë“¤ì€ `onNext()` ì½œë°±ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ìŒ.
        - ê·¸ ê³¼ì •ì—ì„œ ì—ëŸ¬ê°€ ìˆì„ ê²½ìš°ì—ëŠ” ì´ë¥¼ `onError()` ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.
- **`Scheduler`**
    - Observableê³¼ observerê°€ ì–´ëŠ ìŠ¤ë ˆë“œì—ì„œ ë™ì‘í•´ì•¼ í•  ì§€ ì•Œë ¤ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸.
        - Observable - `scheduleOn()`
        - Observer - `observeOn()`
- ì´ì™¸ì—ë„ ì—¬ëŸ¬ observer í•œí…Œ í•œë²ˆì— ê°’ì„ ì „í•´ì£¼ëŠ” `subject`, observableì„ êµ¬ë…/êµ¬ë… ì·¨ì†Œ í•˜ëŠ” `subscribe` ë“±ì´ ìˆëŠ”ë° ì´ê±°ëŠ” ì–¸ì–´/ë¼ì´ë¸ŒëŸ¬ë¦¬ë§ˆë‹¤ ë¶€ë¥´ëŠ” í‘œí˜„ì´ ì¢€ ë‹¤ë¥¸ ê²ƒ ê°™ì•„ì„œ ì—¬ê¸°ê¹Œì§€...

## Pull vs. Push

---

- **ë°ì´í„° ìƒì‚°ì(Data producer)ì™€ ë°ì´í„° ì†Œë¹„ì(Data Consumer)ê°€ í†µì‹ í•˜ëŠ” í”„ë¡œí† ì½œì˜ ë‘ ê°€ì§€ ì¢…ë¥˜**
    - ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼ í•  ì ì€ Data producer/consumerì€ ì„œë²„-í´ë¼ì´ì–¸íŠ¸ì™€ ê°™ì€ ê°œë…ì´ ì•„ë‹˜. Rxì—ì„œ ë§í•˜ëŠ” ë°ì´í„° ìƒì‚°ìì™€ ì†Œë¹„ìëŠ” ê°ê° **ë°ì´í„° ë³€ê²½ì„ ìˆ˜í–‰í•˜ëŠ” ì´ë²¤íŠ¸**ì™€ **ë°ì´í„° ë³€ê²½ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒ**ì„ ë§í•¨.



![]( /assets/img/blog/2021-09-02-Reactive-Programming/PullPushSummary.png)
![Pull and Push]( /assets/img/blog/2021-09-02-Reactive-Programming/9_PullandPush.png)

- Pull: function, iterator
    - í”„ë¡œê·¸ë¨ì´ ì™¸ë¶€ í™˜ê²½ì˜ ëª…ë ¹ì— ì˜í•´ì„œ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ íšë“í•˜ëŠ” ë°©ì‹
    - í”„ë¡œê·¸ë¨ì´ ì§ì ‘ ì œì–´ì˜ íë¦„ì„ í†µì œ
    - ë°ì´í„°ê°€ ì–¸ì œ ì´ë™í•  ì§€ ì†Œë¹„ìê°€ ê²°ì •.
        - ì˜ˆ1. ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜
            - í•¨ìˆ˜ê°€ ë°ì´í„°ë¥¼ ìƒì‚°, í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œê°€ ë°˜í™˜ê°’ì„ pull
        - ì˜ˆ2. ì œë„¤ë ˆì´í„° í•¨ìˆ˜, ì´í„°ë ˆì´í„°
            - Iterator.next()ê°€ iteratorì—ì„œ ê°’ì„ pull
        - ì˜ˆ3. ë¹„ë™ê¸° request ë˜ì§€ê³  responseë¥¼ ê¸°ë‹¤ë ¸ë‹¤ê°€ callbackìœ¼ë¡œ ë°›ì•„ì„œ ì²˜ë¦¬(ê¸°ë‹¤ë¦°ë‹¤)
- Push: Promise, observable
    - í™˜ê²½ì´ í”„ë¡œê·¸ë¨ ì•ˆìœ¼ë¡œ ìš”ì²­(ì£¼ë¡œ ì´ë²¤íŠ¸)ì„ ë°€ì–´ë„£ëŠ”ê²ƒ. í”„ë¡œê·¸ë¨ì€ ì™¸ë¶€ì—ì„œ ì‘ë‹µì´ ì˜¤ë©´ ê·¸ ë•Œ ë°˜ì‘.
    - ì œì–´ì˜ íë¦„ì„ í†µì œí•  ê¶Œí•œì„ ì™¸ë¶€ í™˜ê²½ì— ë„˜ê¹€ìœ¼ë¡œì¨ ì‘ë‹µ ëŒ€ê¸° ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° ì²˜ë¦¬ì— ìœ ë¦¬í•¨.
    - ë°ì´í„°ì˜ ì „ë‹¬ ì‹œì ì„ ìƒì‚°ìê°€ ê²°ì •
        - ì˜ˆ1. Promise
            - Promiseê°€ ê°’ì„ ìƒì‚°, ì†Œë¹„ìì¸ callbackì— ì „ë‹¬. ê²°êµ­ callbackì— ê°’ì„ Push í•˜ëŠ” ì‹œì ì„ ê²°ì •í•˜ëŠ” ê²ƒì€ promise!
        - ì˜ˆ2. Observable
            - ì—¬ëŸ¬ ê°’ì„ ìƒì‚° í›„ observerì—ê²Œ push
        - ì˜ˆ3. ë¹„ë™ê¸° requestë¥¼ ë˜ì§€ê³ , ì™¸ë¶€ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì— ëŒ€í•œ subscribeí˜•ì‹ìœ¼ë¡œ ìœ ì…ì— ë°˜ì‘í•˜ë„ë¡ ì²˜ë¦¬(ê¸°ë‹¤ë¦¬ì§€ ì•ŠëŠ” ëŒ€ì‹  ì˜¤ë©´ ë°˜ì‘)

![Pull and Push Table]( /assets/img/blog/2021-09-02-Reactive-Programming/10_PullandPushTable.png)

## Observableì˜ ì¢…ë¥˜ ë‘ ê°€ì§€

ë§ì€ ì‚¬ëŒë“¤ì´ ë†“ì¹˜ê³  ê°€ëŠ” ë¶€ë¶„ì´ë¼ê³  í•œë‹¤. í•˜ì§€ë§Œ ì˜ëª» ì´ ë¶€ë¶„ì„ ê°„ê³¼í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì§°ë‹¤ê°€ëŠ” ë°ì´í„°ê°€ ìœ ì‹¤ë  ìˆ˜ë„ ìˆë‹¤! ~~ì§€ë‚œ í•™ê¸° ë‘ ë‹¬ ë””ë²„ê¹…ì˜ ì›ì¸...~~

### Cold Observables

- **Lazy evaluation**
    - ë‹¤ë¥¸ componentê°€ subscribe(observing)ì„ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•ŠëŠ”ë‹¤.
    - ì†Œë¹„ë  ê²ƒì´ í™•ì‹¤í•œ ìˆœê°„ë¶€í„° publishë¥¼ ì‹œì‘!
- cold streamì— ì˜í•´ ìƒì‚°ëœ dataëŠ” subscribersë“¤ ì‚¬ì´ì—ì„œ ê³µìœ ë˜ì§€ ì•ŠìŒ

### Hot Observables

- subscription ì´ì „ì—ë„ active
- ê°œë³„ subscriberì™€ ë°ì´í„°ê°€ ë…ë¦½ì 
- observerëŠ” subscription í›„ì—ë§Œ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤
- subscriberë“¤ ì‚¬ì´ì—ì„œ ë°ì´í„°ê°€ ê³µìœ 

## ì½”ë“œë¡œ ë³´ëŠ” Rx

---

![Twitter Recommendation Tab]( /assets/img/blog/2021-09-02-Reactive-Programming/11_RecommendationTab.png)





íŠ¸ìœ„í„° ì‚¬ìš©ì ì¶”ì²œ íƒ­ì„ ë§Œë“¤ì–´ë³´ì

### ì‘ë™ ë°©ë²•

- ì‹œì‘ ì‹œ, APIì—ì„œ ê³„ì • ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  3ê°œì˜ ì¶”ì²œì„ ë³´ì—¬ì¤Œ
- â€œRefreshâ€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë˜ ë‹¤ë¥¸ 3ê°œì˜ ê³„ì •ì„ ì¶”ì²œí•©ë‹ˆë‹¤
- ê° ì¤„ì˜ X ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ë¶€ë¶„ë§Œ ë¹„ìš´ ë‹¤ìŒ ë‹¤ë¥¸ ê³„ì •ì„ ë³´ì—¬ì¤ë‹ˆë‹¤
- ê° ì¤„ì€ ê³„ì •ì˜ ì•„ë°”íƒ€ì™€ í˜ì´ì§€ì˜ ë§í¬ë¡œ êµ¬ì„±ë¼ ìˆìŠµë‹ˆë‹¤

### Request/Response Button

1. Requestë¥¼ ìœ„í•œ URL Stream

    ```jsx
    // --a------|->
    // aëŠ” 'https://api.github.com/users' ìŠ¤íŠ¸ë§ì„ ì˜ë¯¸í•©ë‹ˆë‹¤

    var requestStream = Rx.Observable.just('https://api.github.com/users');
    ```

    - Streamì„ ë§Œë“  ì§í›„ì—ëŠ” ë³„ë‹¤ë¥¸ ì—°ì‚°ì´ ì¼ì–´ë‚˜ì§€ ì•ŠìŒ. ì—°ì‚°ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.
2. URL Stream êµ¬ë…

    ```jsx
    // (1) jQuery Ajax ì½œë°±ì„ ì‚¬ìš©í–ˆì„ ë•Œ
    requestStream.subscribe(function(requestUrl) {
      // ë¦¬í€˜ìŠ¤íŠ¸ ì‹¤í–‰
      jQuery.getJSON(requestUrl, function(responseData) {
        // ...
      });
    }

    // (2) Rxë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ
    requestStream.subscribe(function(requestUrl) {
      // ë¦¬í€˜ìŠ¤íŠ¸ ì‹¤í–‰í•˜ëŠ” ê³³
      var responseStream = Rx.Observable.create(function (observer) {
        jQuery.getJSON(requestUrl)
        .done(function(response) { observer.onNext(response); })
        .fail(function(jqXHR, status, error) { observer.onError(error); })
        .always(function() { observer.onCompleted(); });
      });
      
      responseStream.subscribe(function(response) {
        // ë¦¬ìŠ¤í°ìŠ¤ ì²˜ë¦¬í•˜ëŠ” ê³³
      });
    }
    ```

    - Rx.Observable.create()ëŠ” ë°ì´í„° ì´ë²¤íŠ¸ onNextë‚˜ onErrorê°€ ë°œìƒ ì‹œ ëª…ì‹œì ìœ¼ë¡œ ì˜µì €ë²„ë¥¼ ì ì–´ì„œ ì»¤ìŠ¤í…€ ìŠ¤íŠ¸ë¦¼ì„ ë§Œë“œëŠ” ë° ì˜ì˜ê°€ ìˆìŒ.
    - (1)ì—ì„œ jQuery Ajax Promiseë¥¼ í•œ ê²¹ ê°ìŒŒëŠ”ë°, ì‚¬ì‹¤ Promise ë„ Observableì´ê¸´ í•˜ë‹¤. ë‹¨ í•˜ë‚˜ì˜ ê°’ë§Œ ë°œìƒí•˜ëŠ” Observable!
        - ê·¸ë˜ì„œ Rx.Observable.fromPromise(promise)ê°™ì€ ê±¸ë¡œ ì‰½ê²Œ ë³€í™˜ ê°€ëŠ¥
        - ë‹¨ observableì€ Promise/A+ë¥¼ ë”°ë¥´ì§€ëŠ” ì•ŠëŠ”ë‹¤.
3. ì—¬ì „íˆ ì½œë°±ì§€ì˜¥ ì²˜ëŸ¼ ìƒê¸´ response ì½”ë“œë¥¼ ê³ ì³ë³´ì. 

    ```jsx
    var responseMetastream = requestStream
      .map(function(requestUrl) {
        return Rx.Observable.fromPromise(jQuery.getJSON(requestUrl));
      });
    ```

    - responseStreamì´ requestStreamì— dependent í•œ ë¶€ë¶„ì´ ë¬¸ì œê°€ ë˜ëŠ” ê²ƒ. í•œ ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ë¥¸ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” mapì„ ì´ìš©í•´ì„œ metaStreamì„ ë§Œë“¤ì—ˆë‹¤.
    - ì´ë¥¼ í†µí•´ì„œ ê° URLì„ ë¦¬ìŠ¤í°ìŠ¤ê°€ ë‹´ê¸´ í”„ë¡œë¯¸ìŠ¤ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë§¤í•‘í•  ìˆ˜ ìˆìŒ!

![Request Stream]( /assets/img/blog/2021-09-02-Reactive-Programming/12_RequestStream.png)
    


4. JSON ê°ì²´ì— ëŒ€í•œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°›ëŠ” ëŒ€ì‹  ê·¸ëƒ¥ ë°”ë¡œ JSON ê°ì²´ë¥¼ ë°›ìœ¼ë ¤ë©´?

```jsx
var responseStream = requestStream
  .flatMap(function(requestUrl) {
    return Rx.Observable.fromPromise(jQuery.getJSON(requestUrl));
  });
```

- Flatmap: map()ì˜ í•œ ì¢…ë¥˜, ë©”íƒ€ ìŠ¤íŠ¸ë¦¼ì„ flatten ì‹œí‚´(ë‹¨ì¼ ì›ì†Œ ìŠ¤íŠ¸ë¦¼ì„ ë°˜í™˜)

![Meta Request Stream]( /assets/img/blog/2021-09-02-Reactive-Programming/13_RequestStream.png)

- ë“œë””ì–´ ë¦¬ìŠ¤í°ìŠ¤ ìŠ¤íŠ¸ë¦¼ì´ ì™„ì„±!

    ```jsx
    requestStream:  --a-----b--c------------|->
    responseStream: -----A--------B-----C---|->
    ```

1. ë¦¬ìŠ¤í°ìŠ¤ ìŠ¤íŠ¸ë¦¼ì—ì„œ ë°ì´í„°ë¥¼ ë Œë”ë§í•˜ì. 

    ```jsx
    responseStream.subscribe(function(response) {
      // `response`ë¥¼ ìš°ë¦¬ê°€ ì›í•˜ëŠ”ëŒ€ë¡œ DOMì— ë Œë”ë§í•˜ë©´ ë˜ëŠ” ë¶€ë¶„
    });
    ```

### Refresh Button

- ìƒˆë¡œê³ ì¹¨ ì´ë²¤íŠ¸ì˜ í´ë¦­ ìŠ¤íŠ¸ë¦¼ì„ ë³€í™˜í•´ë³´ì
1. í´ë¦­ ìŠ¤íŠ¸ë¦¼ì˜ ìƒì„±

    ```jsx
    var refreshButton = document.querySelector('.refresh');
    var refreshClickStream = Rx.Observable.fromEvent(refreshButton, 'click');
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ì„œ ë°”ë¡œ ì˜µì €ë²„ë¸”ì„ ë§Œë“¤ì–´ì¤Œ
    ```

2. ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ì´ í´ë¦­ OR ì›¹í˜ì´ì§€ê°€ ì—´ë ¸ì„ ë•Œ APIì„ í˜¸ì¶œ

    ```jsx
    var requestOnRefreshStream = refreshClickStream
      .map(function() {
        var randomOffset = Math.floor(Math.random()*500);
        return 'https://api.github.com/users?since=' + randomOffset;
      });
      
    var startupRequestStream = Rx.Observable.just('https://api.github.com/users');
    ```

3. ë‘ ìŠ¤íŠ¸ë¦¼ì„ í•©ì¹˜ì! 

    ```jsx
    var requestOnRefreshStream = refreshClickStream
      .map(function() {
        var randomOffset = Math.floor(Math.random()*500);
        return 'https://api.github.com/users?since=' + randomOffset;
      });
      
    var startupRequestStream = Rx.Observable.just('https://api.github.com/users');

    var requestStream = Rx.Observable.merge(
      requestOnRefreshStream, startupRequestStream
    );
    // mergeë¡œ ëšë”± í•˜ë©´ ì´ë ‡ê²Œ
    // stream A: ---a--------e-----o----->
    // stream B: -----B---C-----D-------->
    //          vvvvvvvvv merge vvvvvvvvv
    //          ---a-B---C--e--D--o----->
    ```

    ```jsx
    // ì°ê³ ìˆ˜ ë²„ì „
    var requestStream = refreshClickStream
      .map(function() {
        var randomOffset = Math.floor(Math.random()*500);
        return 'https://api.github.com/users?since=' + randomOffset;
      })
      .startWith('https://api.github.com/users');
    ```

### ì‚¬ìš©ì ì¶”ì²œ UIì— ìŠ¤íŠ¸ë¦¼ ì‚¬ìš©í•˜ê¸°

- í˜„ì¬ëŠ” ìƒˆë¡œê³ ì¹¨ì„ ëˆŒëŸ¬ë„ í˜„ì¬ ì¶”ì²œë˜ì–´ìˆëŠ” ì‚¬ìš©ìê°€ ì—†ì–´ì§€ì§€ ì•ŠìŒ.
- í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ í˜„ì¬ ì¶”ì²œëœ ì‚¬ìš©ìë¥¼ ì‚­ì œ

```jsx
// ìµœì•…ìœ¼ ì½”ë“œ! responseStreamê³¼ refreshClickstreamì˜ ì˜í–¥ì„ ëª¨ë‘ ë°›ëŠ”ë‹¤.
refreshClickStream.subscribe(function() {
  // ì´ì „ì— ì¶”ì²œí–ˆë˜ ì„¸ ëª…ì˜ ì‚¬ìš©ìë¥¼ ì‚­ì œí•©ë‹ˆë‹¤
});
```

```jsx
// ì´ë ‡ê²Œ ë‘ ê°œì˜ streamì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  í•˜ë‚˜ì˜ streamì„ ê³„ì† ì“°ì
// ëŒ€ì‹  DRY ì›ì¹™ì€ ìœ„ë°°í•¨ ã…‹ã…‹ã…‹
var suggestion1Stream = responseStream
  .map(function(listUsers) {
    // get one random user from the list
    return listUsers[Math.floor(Math.random()*listUsers.length)];
  })
  .merge(
    refreshClickStream.map(function(){ return null; })
  );
// ìƒˆë¡œê³ ì¹¨ì„ í´ë¦­í•˜ë©´ nullì¸ ì¶”ì²œ ë°ì´í„°ë¥¼ ì œê³µ, ë Œë”ë§ ì‹œì—ëŠ” ë°ì´í„° ì—†ìŒìœ¼ë¡œ ì²˜ë¦¬í•´ì„œ UIë¥¼ ìˆ¨ê¹€
```

```jsx
// ê²°ê³¼ë¬¼
refreshClickStream: ----------o--------o---->
     requestStream: -r--------r--------r---->
    responseStream: ----R---------R------R-->   
 suggestion1Stream: ----s-----N---s----N-s-->
 suggestion2Stream: ----q-----N---q----N-q-->
 suggestion3Stream: ----t-----N---t----N-t-->
```

[ì°¸ê³ í•œ ì‹¤ì œ ì½”ë“œ](http://jsfiddle.net/staltz/8jFJH/48)

# ê°ì¢… ì—¬ë‹´

- iOS ë•Œë¬¸ì— ê³µë¶€í•˜ê¸° ì‹œì‘í–ˆëŠ”ë° ë””ì§€í„¸ ë…¼ë¦¬ ì„¤ê³„ì˜ ì•…ëª½ì´ ë– ì˜¤ë¥´ëŠ” ê²ƒì€ ì™œì¼ê¹Œ
- ìŠ¤ìœ„í”„íŠ¸ë„ ë§ì´ ì¼ìœ¼ë©´ ì¢‹ê² ë‹¤
- RP, FP, FRPë¥¼ í˜¼ìš©í•˜ëŠ” ì‚¬ëŒë“¤ì´ ë„ˆë¬´ ë§ì€ ê²ƒ ê°™ë‹¤.
- ì°¾ì•„ ë³´ë©´ì„œ ê³µê°ê°”ë˜ ë§ë“¤

    > ê°œì¸ì ì¸ ê²¬í•´ì— ë”°ë¥´ë©´ í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì€ ê³¼ê±°ì˜ íŒ¨ëŸ¬ë‹¤ì„ì„ íê¸°ì‹œí‚¤ëŠ” í˜ëª…ì ì¸ ê³¼ì •ì„ ê±°ì¹˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ì˜¤íˆë ¤ ê³¼ê±°ì— ìˆë˜ íŒ¨ëŸ¬ë‹¤ì„ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ëŠ” ë°œì „ì ì¸ ê³¼ì •ì„ ê±°ì¹˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ê°„ë‹¨íˆ ë§í•´ í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì€ í˜ëª…ì (revolutionary)ì´ ì•„ë‹ˆë¼ ë°œì „ì (evolutionary)ì´ë‹¤.
    - ì¡°ì˜í˜¸, ã€ì˜¤ë¸Œì íŠ¸ã€

    > â€œYour Mouse Is DataBase" - ì—ë¦­ ë§ˆì´ì–´

- ê²°êµ­ ëª¨ë“  ê²ƒë“¤ì€ ì¶”ìƒí™”ì˜ ë¬¸ì œì¸ ê²ƒ ê°™ìŒ. í•¨ìˆ˜í˜•ìœ¼ë¡œ ì ˆì°¨ì§€í–¥ + ê°ì²´ì§€í–¥ì„ í•œ ë²ˆ ë” ê°ì‹¸ì„œ ì¶”ìƒí™”í•œë‹¤ë˜ê°€ ê¸°ì¡´ì—ë„ ê°€ëŠ¥í–ˆë˜ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„ í•œ ë‹¨ê³„ ë” ì¶”ìƒí™”í•˜ë“¯ì´? ê²°êµ­ì—ëŠ” ì „ë¶€ business logicë§Œì„ ìƒê°í•˜ê¸° ìœ„í•œ ëª¸ë¶€ë¦¼...
- [ì´ ì˜ìƒ](https://www.youtube.com/watch?v=sTSQlYX5DU0) ì„ ì´í•´í•˜ë©´ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì„ ë‹¤ ì´í•´í–ˆë‹¤ê³  ë´ë„ ëœë‹¤ê³  ê·¸ëŸ¬ëŠ”ë° ì €ëŠ” ë°˜ê³µë³€ì„±ì´ ë‚˜ì˜¤ëŠ” ìˆœê°„ í¬ê¸°í–ˆìŠµë‹ˆë‹¤... ê°•ì—°ì ìì²´ëŠ” ìœ ì¾Œí•˜ê³  ì¢‹ìœ¼ì‹  ë¶„ì¸ ê²ƒ ê°™ìœ¼ë‹ˆ ê¶ê¸ˆí•˜ì‹  ë¶„ì€ ë“¤ì–´ë³´ì‹œê³  ì´í•´í•˜ì…¨ë‹¤ë©´ ê¼­ ê³µìœ í•´ì£¼ì‹œê¸¸...â­ï¸âœ¨

[What is Reactive Programming?](https://medium.com/@kevalpatel2106/what-is-reactive-programming-da37c1611382)

[ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ê³¼ RxJS](https://www.howdy-mj.me/rxjs/reactive-programming-and-rxjs/)

[ReactiveX](http://reactivex.io/intro.html)

[5 Things to Know About Reactive Programming | Red Hat Developer](https://developers.redhat.com/blog/2017/06/30/5-things-to-know-about-reactive-programming)

[The introduction to Reactive Programming you've been missing](https://gist.github.com/staltz/868e7e9bc2a7b8c1f754)

[[ë²ˆì—­] ë‹¹ì‹ ì´ ë†“ì¹œ ë°˜ì‘í˜• í”„ë¡œê·¸ë˜ë°ì— ëŒ€í•œ ëª¨ë“  ê²ƒ](https://pilgwon.github.io/post/introduction-to-reactive-programming)

[2ë¶€ - ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¹„ë™ê¸°ì  í”„ë¡œê·¸ë˜ë°(ì½œë°±, í”„ë¼ë¯¸ìŠ¤)](https://code-masterjung.tistory.com/66?category=828347)

[MSëŠ” ReactiveXë¥¼ ì™œ ë§Œë“¤ì—ˆì„ê¹Œ? (feat. RxJS)](https://huns.me/development/2051)
